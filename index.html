<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toribble | Find Your Tribe Anywhere</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="img/logo.png" type="image/x-icon">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        /* ===== CSS Reset & Base Styles ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Inter', sans-serif;
        }

        :root {
            --primary-color: #6ae44d;
            --secondary-color: #ffb300;
            --dark-color: #17223b;
            --light-color: #f5f5f5;
            --text-color: #333;
            --white: #fff;
            --black: #0a0a0a;
            --border-radius: 25px;
            --transition: all 0.3s ease;
            --box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(125deg,#ffffff, #dbf4ff);
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.6;
        }

        img, video {
            max-width: 100%;
            height: auto;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* ===== Typography ===== */
        h1 {
            font-size: clamp(2.5rem, 5vw, 3.625rem);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
            color: var(--dark-color);
        }

        h2 {
            font-size: clamp(2rem, 4vw, 2.8rem);
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 3rem;
        }

        h3 {
            font-size: 1.375rem;
            margin-bottom: 0.625rem;
            color: var(--dark-color);
        }

        p {
            margin-bottom: 1.25rem;
            color: #555;
        }

        /* ===== Buttons ===== */
        .btn {
            padding: 0.875rem 2.25rem;
            border-radius: var(--border-radius);
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-green {
            background: var(--primary-color);
            color: var(--white);
        }

        .btn-yellow {
            background: var(--secondary-color);
            color: var(--white);
        }

        .btn-outline {
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            background: transparent;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        /* ===== Navbar ===== */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.125rem 5%;
            background: var(--white);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: top 0.4s ease-in-out;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .logo img {
            width: 8.125rem;
            height: auto;
        }

        .nav-links {
            display: flex;
            gap: 2.1875rem;
            list-style: none;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 0.625rem;
        }

        .join {
            color: var(--primary-color);
            font-weight: 600;
            text-decoration: none;
        }

        .login {
            background: linear-gradient(90deg, var(--primary-color), #b2ff59);
            color: var(--white);
            padding: 0.5rem 1.375rem;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .login:hover {
            transform: scale(1.01);
        }

        .menu-btn {
            display: none;
            font-size: 1.375rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
            z-index: 1001;
        }

        /* ===== Hero Section ===== */
        .hero {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 5rem 5%;
            gap: 3.75rem;
            min-height: 80vh;
        }

        .hero-text {
            flex: 1;
            max-width: 30rem;
        }

        .beta {
            display: inline-block;
            background: linear-gradient(90deg, #ffde89, #ffde89);
            color: #222;
            font-size: 0.875rem;
            font-weight: 600;
            padding: 0.375rem 1.125rem;
            border-radius: 1.25rem;
            margin-bottom: 1.5625rem;
            position: relative;
            overflow: hidden;
        }

        .beta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -5rem;
            width: 3.75rem;
            height: 100%;
            background: rgba(255, 255, 255, 0.6);
            transform: skewX(-20deg);
            animation: shine 2.5s infinite linear;
        }

        @keyframes shine {
            0% { left: -5rem; }
            100% { left: 120%; }
        }

        .hero-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .hero-image {
            flex: 1;
            max-width: 32.5rem;
        }

        .hero-image img {
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: 0 0.625rem 1.5625rem rgba(0,0,0,0.2);
        }

        /* ===== How It Works ===== */
        section {
            padding: 5rem 5%;
            text-align: center;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(18.75rem, 1fr));
            gap: 1.5625rem;
            justify-content: center;
        }

        .card {
            background: var(--white);
            border-radius: 0.9375rem;
            padding: 1.25rem;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            opacity: 0;
            transform: translateX(3.125rem);
            animation: slideInCard 0.8s forwards;
        }

        .cards .card:nth-child(1) { animation-delay: 0.2s; }
        .cards .card:nth-child(2) { animation-delay: 0.4s; }
        .cards .card:nth-child(3) { animation-delay: 0.6s; }
        .cards .card:nth-child(4) { animation-delay: 0.8s; }
        .cards .card:nth-child(5) { animation-delay: 1s; }

        @keyframes slideInCard {
            0% { opacity: 0; transform: translateX(3.125rem) rotateY(-10deg); }
            60% { opacity: 1; transform: translateX(-0.625rem) rotateY(5deg); }
            100% { opacity: 1; transform: translateX(0) rotateY(0deg); }
        }

        .icon {
            font-size: 2.5rem;
            color: #4CAF50;
            margin-bottom: 0.9375rem;
        }

        .interests {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.625rem;
            margin-top: 0.9375rem;
        }

        .interest {
            display: flex;
            align-items: center;
            background: #eafbea;
            border-radius: 1.25rem;
            padding: 0.375rem 0.75rem;
            gap: 0.375rem;
        }

        .interest span {
            color: #222;
            font-weight: 500;
        }

        .map-box {
            background: url('https://cdn.pixabay.com/photo/2016/03/09/15/10/map-1245954_960_720.jpg') no-repeat center/cover;
            border-radius: 0.75rem;
            height: 9.375rem;
            margin-bottom: 0.9375rem;
        }

        .stars {
            display: flex;
            justify-content: center;
            gap: 0.3125rem;
            font-size: 1.875rem;
            cursor: pointer;
            margin-top: 0.625rem;
        }

        .star {
            color: #ccc;
            transition: color 0.2s;
        }

        .star.active, .star:hover, .star:hover ~ .star {
            color: green;
        }

        /* ===== Footer ===== */
        footer {
            background: var(--light-color);
            padding: 2.5rem 5%;
            text-align: center;
        }

        footer img {
            width: 7.5rem;
            margin-bottom: 0.9375rem;
        }

        footer p, footer a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.875rem;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .footer-links ul {
            list-style: none;
            margin-top: 0.625rem;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 0.5rem;
        }

        /* ===== Popup ===== */
        #betaPopup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: fadeIn 0.6s ease;
            backdrop-filter: blur(0.375rem);
        }

        .popup-content {
            background: var(--white);
            padding: 1.875rem 2.5rem;
            border-radius: 1.25rem;
            text-align: center;
            box-shadow: 0 0.625rem 1.5625rem rgba(0,0,0,0.15);
            animation: popIn 0.6s ease;
            max-width: 21.875rem;
            border: 3px solid var(--primary-color);
        }

        .popup-content h2 {
            color: var(--primary-color);
            margin-bottom: 0.625rem;
        }

        .popup-content p {
            color: var(--text-color);
            font-size: 0.9375rem;
            line-height: 1.6;
            margin-bottom: 1.25rem;
        }

        .popup-content button {
            background: linear-gradient(90deg, var(--primary-color), #ffeb3b);
            color: var(--white);
            border: none;
            padding: 0.625rem 1.5625rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .popup-content button:hover {
            transform: scale(1.05);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popIn {
            from { transform: scale(0.85); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* ===== Banner "عايزين ناس تشتغل معايا" ===== */
        #workBanner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, #91ff5e, #ff9800);
            color: #000000;
            font-weight: 600;
            padding: 0.9375rem 1.25rem;
            text-align: center;
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.9375rem;
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.2);
            transform: translateY(-100%);
            transition: transform 0.5s ease;
        }

        #workBanner.show {
            transform: translateY(0);
        }

        #workBanner a {
            color: var(--white);
            text-decoration: underline;
            font-weight: bold;
        }

        #closeBanner {
            position: absolute;
            top: 50%;
            right: 1.25rem;
            transform: translateY(-50%);
            cursor: pointer;
            font-size: 1.25rem;
        }

        /* ===== Recruitment Section ===== */
        #recruit {
            background: linear-gradient(135deg, #f6fff4, #e9ffe0);
            padding: 5rem 6%;
            text-align: center;
            border-top: 4px solid var(--primary-color);
            border-radius: 1.5625rem 1.5625rem 0 0;
            box-shadow: 0 -0.3125rem 1.5625rem rgba(0, 0, 0, 0.1);
            animation: fadeUp 1.2s ease-in-out;
        }

        #recruit h2 {
            font-size: clamp(1.625rem, 4vw, 2.25rem);
            color: #111;
            font-weight: 800;
            margin-bottom: 1.25rem;
            letter-spacing: 0.03125rem;
        }

        #recruit p {
            font-size: clamp(1rem, 2vw, 1.125rem);
            color: #333;
            max-width: 43.75rem;
            margin: 0 auto 2.1875rem;
            line-height: 1.6;
        }

        .recruit-buttons {
            display: flex;
            justify-content: center;
            gap: 0.9375rem;
            flex-wrap: wrap;
        }

        .recruit-buttons .btn {
            padding: 0.875rem 2.1875rem;
            border-radius: 2.5rem;
            font-weight: 700;
            box-shadow: 0 0.3125rem 1.125rem rgba(0, 0, 0, 0.15);
        }

        .btn.email {
            background: linear-gradient(45deg, var(--primary-color), #58c63b);
        }

        .btn.whatsapp {
            background: linear-gradient(45deg, #25d366, #1ebe5a);
        }

        .btn.instagram {
            background: linear-gradient(45deg, #e4405f, #c13584);
        }

        .recruit-buttons .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0.5rem 1.5625rem rgba(0, 0, 0, 0.2);
        }

        @keyframes fadeUp {
            0% { opacity: 0; transform: translateY(3.75rem); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* ===== Responsive Design ===== */
        @media (max-width: 1024px) {
            .hero {
                padding: 3rem 5%;
            }
            
            .cards {
                grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
            }
        }

        @media (max-width: 900px) {
            nav {
                padding: 1.125rem 1.5625rem;
            }
            
            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 70%;
                height: 100vh;
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                gap: 2rem;
                padding-top: 6rem;
                transition: right 0.4s ease;
                box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .menu-btn {
                display: block;
            }
            
            .nav-actions .login,
            .nav-actions .join {
                display: none;
            }
            
            .hero {
                flex-direction: column;
                text-align: center;
                padding: 2.5rem 1.5625rem;
                gap: 2.5rem;
            }
            
            .hero-text {
                max-width: 100%;
            }
            
            .hero-buttons {
                justify-content: center;
            }
            
            .cards {
                grid-template-columns: 1fr;
            }
            
            .recruit-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .recruit-buttons .btn {
                width: 100%;
                max-width: 18.75rem;
            }
        }

        @media (max-width: 600px) {
            #workBanner {
                font-size: 0.875rem;
                padding: 0.75rem 0.625rem;
                text-align: center;
                border-radius: 0;
            }
            
            #workBanner p {
                margin: 0;
                line-height: 1.4;
            }
            
            #workBanner a {
                font-size: 0.875rem;
            }
            
            #closeBanner {
                font-size: 1.125rem;
                right: 0.625rem;
            }
            
            #recruit {
                padding: 3.75rem 8%;
            }
            
            .recruit-buttons .btn {
                font-size: 1.0625rem;
                padding: 0.875rem 0;
            }
            
            .popup-content {
                padding: 1.25rem;
                margin: 0 1.25rem;
            }
            
            .nav-links {
                width: 85%;
            }
        }

        @media (max-width: 400px) {
            .hero-buttons .btn {
                width: 100%;
            }
            
            .beta {
                font-size: 0.75rem;
                padding: 0.375rem 0.75rem;
            }
            
            .interest {
                font-size: 0.875rem;
            }
            
            .nav-links {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Popup -->
    <div id="betaPopup">
        <div class="popup-content">
            <h2>Beta Version (V0.3.1)</h2>
            <p>Some features may not work correctly yet.<br>Thanks for testing Tribbel!</p>
            <button id="closePopup">OK</button>
        </div>
    </div>

    <!-- Navbar -->
    <nav>
        <div class="logo">
            <img src="img/tribbel.5d54508c.svg" alt="logo">
        </div>

        <ul class="nav-links" id="navLinks">
            <li><a href="#how">How It Works</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="get app.html">Get The App</a></li>
            <li><a href="manifesto.html">Manifesto</a></li>
            <li class="mobile-only" style="margin-top: 2rem;">
            </li>
        </ul>

        <div class="nav-actions">
            <a href="login.html" class="join">Join Waitlist</a>
            <a href="login.html"> <button class="login">Login</button></a>
            <button class="menu-btn" id="menuBtn"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-text">
            <div class="beta">Beta release V0.3.1</div>
            <h1>Find Your<br>Tribe<br>Anywhere</h1>
            <p>Find community and the people you click with closest to you.<br>Your next magical connection is just a click away.</p>
            <div class="hero-buttons">
                <a href="login.html"><button class="btn btn-green">Login</button></a>
                <button class="btn btn-yellow">Join Waitlist</button>
                <button class="btn btn-outline">Got An Invitation Code?</button>
            </div>
        </div>
        <div class="hero-image">
            <img src="img/hero-image-base.webp" alt="friends having dinner">
        </div>
    </section>

    <!-- How It Works -->
    <section id="how">
        <h2>How Does It Work?</h2>
        <div class="cards">
            <div class="card">
                <div class="map-box" style="background-image: url(img/application-preview.8e80b0cf.svg);"></div>
                <h3>Join Tribbel</h3>
                <p>Sign up to unlock a world of meaningful connections</p>
            </div>
            <div class="card">
                <div class="icon">2</div>
                <h3>Fill in your interests</h3>
                <p>Tell us what you love, and we'll do the rest.</p>
                <div class="interests">
                    <div class="interest"><span>Music</span>✅</div>
                    <div class="interest"><span>Sports</span>➕</div>
                    <div class="interest"><span>Gaming</span>➕</div>
                    <div class="interest"><span>Traveling</span>➕</div>
                    <div class="interest"><span>phoyograpy</span>✅</div>
                    <div class="interest"><span>reading</span>✅</div>
                    <div class="interest"><span>listening</span>➕</div>
                    <div class="interest"><span>video Gaming</span>➕</div>
                </div>
            </div>
            <div class="card">
                <div class="icon">3</div>
                <h3>Get Recommendations</h3>
                <p>Tribbel AI will suggest communities to join and activities to enjoy in person</p>
                <img src="img/card3-recommendations.4b3e9862.svg" alt="Events" style="width:100%;margin-top:10px;">
            </div>
            <div class="card">
                <div class="icon">4</div>
                <h3>Meet IRL</h3>
                <p>Go out and connect with people we're sure you'll click with.</p><br><br>
                <img src="img/hero-image-announcements.webp" alt="">
            </div>
            <div class="card">
                <div class="icon">5</div>
                <h3>Rate your Experience</h3>
                <p>Help Tribbel AI improve its recommendations and make every connection even better.</p>
                <div class="stars">
                    <span class="star" data-value="1">★</span>
                    <span class="star" data-value="2">★</span>
                    <span class="star" data-value="3">★</span>
                    <span class="star" data-value="4">★</span>
                    <span class="star" data-value="5">★</span>
                </div>
                <p id="rating-text" style="margin-top:10px;color:gray;">Click a star to rate!</p>
            </div>
        </div>
    </section>

        <!-- 🌍 قسم الخريطة -->
<section id="map-section" style="padding: 60px 20px; background-color: #f8f9fa; text-align: center;">
  <h2 style="font-size: 28px; font-weight: 700; margin-bottom: 20px; color: #333;">
    📍 موقعنا على الخريطة
  </h2>
  <p style="max-width: 600px; margin: 0 auto 30px; color: #555; font-size: 16px;">
    يمكنك معرفة موقعنا بسهولة من خلال الخريطة التالية.
  </p>
  
  <div style="width: 100%; max-width: 900px; margin: 0 auto; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.15);">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3454.152905880229!2d31.235711715114764!3d30.04441988188037!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145840d9fbb47b6f%3A0x9eae9ec7f16e2cb4!2sTahrir%20Square%2C%20Cairo%2C%20Egypt!5e0!3m2!1sen!2seg!4v1698454567890!5m2!1sen!2seg" 
      width="100%" 
      height="400" 
      style="border:0;" 
      allowfullscreen="" 
      loading="lazy" 
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
</section>

    <!-- Recruitment Section -->
    <section id="recruit">
        <div class="recruit-content">
            <h2>✅ عايز  ناس تشتغل معايا!</h2>
            <p>لو شايف نفسك مبدع، وعندك خبرة في البرمجة والتصميم خش كلمني - وانضم للامبراطورية القادمة</p><br>
            <h2>Tribbelامبراطورية</h2>
            <div class="recruit-buttons">
                <a href="mailto:ibrahemkareem043@gmail.com" class="btn email">📧 إيميل</a>
                <a href="https://wa.me/201207771639?text=اهلا كريم كنت عايز اشتغل معاك في تريبل" target="_blank" class="btn whatsapp">💬 واتساب</a>
                <a href="https://www.instagram.com/kareem_ibrahem19?igsh=bGk4cDFlbDA4ODQ=" target="_blank" class="btn instagram">📸 إنستجرام</a>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer>
        <img src="img/tribbel.5d54508c.svg" alt="logo">
        <p style="color:gray;font-weight:bold;">Your tribe is</p>
        <p style="color:black;font-weight:bolder;">closer than you think</p>
        <div class="footer-links">
            <ul>
                <li><a href="manifesto.html">Our Manifesto</a></li>
                <li><a href="https://wa.me/01207771639?text=Hi">Contact</a></li>
                <li><a href="#Blog">Blog</a></li>
            </ul>
        </div><hr>
        <p>&copy; 2025 Tribbel, all rights reserved</p>
        <a href="#">Terms of Service</a> | <a href="#">Privacy Policy</a>
    </footer>

    <script>
        // Menu Toggle
        const menuBtn = document.querySelector(".menu-btn");
        const navLinks = document.querySelector(".nav-links");
        
        menuBtn.addEventListener("click", () => {
            navLinks.classList.toggle("active");
            menuBtn.innerHTML = navLinks.classList.contains("active") ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        });

        // Close menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });

        // Navbar Hide/Show on Scroll
        let lastScrollTop = 0;
        const navbar = document.querySelector("nav");
        
        window.addEventListener("scroll", function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            navbar.style.top = (scrollTop > lastScrollTop) ? "-5rem" : "0";
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }, false);

        // Star Rating
        const stars = document.querySelectorAll('.star');
        const ratingText = document.getElementById('rating-text');
        
        stars.forEach((star, index) => {
            star.addEventListener('click', () => {
                stars.forEach(s => s.classList.remove('active'));
                for(let i = 0; i <= index; i++) {
                    stars[i].classList.add('active');
                }
                ratingText.textContent = `You rated ${index+1} star${index ? 's' : ''}!`;
                ratingText.style.color = 'gold';
            });
        });

        // Popup
        const popup = document.getElementById("betaPopup");
        const closeBtn = document.getElementById("closePopup");
        
        closeBtn.addEventListener("click", () => popup.style.display = "none");
        setTimeout(() => popup.style.display = "none", 10000);

        // Banner show/hide
        const workBanner = document.getElementById("workBanner");
        const closeBanner = document.getElementById("closeBanner");
        
        // يظهر بعد ثانيتين
        setTimeout(() => workBanner.classList.add("show"), 2000);
        closeBanner.addEventListener("click", () => workBanner.style.display = "none");

        // Analytics (Optional)
        const scriptURL = "https://script.google.com/macros/s/AKfycbyExample12345/exec";
        const data = {
            device: navigator.userAgent.includes("Mobile") ? "Mobile" : "Desktop",
            browser: navigator.userAgent,
            platform: navigator.platform,
            language: navigator.language,
            page: window.location.href
        };

        fetch(scriptURL, {
            method: "POST",
            body: JSON.stringify(data)
        }).catch(err => console.log("Error:", err));
    </script>
<script>
// 🟢 تحقق أولاً إذا كان المستخدم سجل دخول قبل كده
if (localStorage.getItem("loggedIn") === "true") {
  // لو سجل قبل كده، نوديه مباشرة للصفحة الرئيسية
  window.location.href = "index.html";
}

document.querySelector(".type-btn").addEventListener("click", function() {
  const code = document.querySelector(".type").value.trim();

  // هنا الكود الصحيح اللي بيسمح بالدخول
  if (code === "tribble2025") {
    // نحفظ حالة الدخول في localStorage
    localStorage.setItem("loggedIn", "true");
    // نحول المستخدم للصفحة الرئيسية
    window.location.href = "index.html";
  } else {
    alert("⚠️ كود الدخول غير صحيح، حاول مرة أخرى");
  }
});
</script>
<!-- 🔗 IRL Nearby Connection Feature -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    if (!navigator.geolocation) {
        console.warn("المتصفح لا يدعم تحديد الموقع الجغرافي.");
        return;
    }

    // 🗺️ الحصول على موقع المستخدم
    navigator.geolocation.getCurrentPosition(success, error);

    function success(position) {
        const userLat = position.coords.latitude;
        const userLon = position.coords.longitude;

        console.log("إحداثياتك:", userLat, userLon);

        // ✳️ محاكاة مستخدمين قريبين (في المستقبل يتم استبدالها ببيانات من السيرفر)
        const usersNearby = [
            { name: "Ahmed", lat: userLat + 0.009, lon: userLon + 0.004 },
            { name: "Laila", lat: userLat + 0.02, lon: userLon + 0.015 }
        ];

        // 🔍 حساب المسافة (بالمتر)
        function getDistance(lat1, lon1, lat2, lon2) {
            const R = 6371e3; // نصف قطر الأرض بالمتر
            const φ1 = lat1 * Math.PI / 180;
            const φ2 = lat2 * Math.PI / 180;
            const Δφ = (lat2 - lat1) * Math.PI / 180;
            const Δλ = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(Δφ / 2) ** 2 +
                      Math.cos(φ1) * Math.cos(φ2) *
                      Math.sin(Δλ / 2) ** 2;
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c;
        }

        // ✅ التحقق من وجود شخص قريب
        let nearbyFound = false;
        usersNearby.forEach(user => {
            const distance = getDistance(userLat, userLon, user.lat, user.lon);
            if (distance <= 2000) { // أقل من 2 كم
                nearbyFound = true;
                showNearbyPopup(user.name, distance);
            }
        });

        if (!nearbyFound) {
            console.log("مفيش ناس قريبة دلوقتي 😅");
        }
    }

    function error(err) {
        console.warn("فشل تحديد الموقع:", err.message);
    }

    // 📢 نافذة الإشعار عند وجود شخص قريب
    function showNearbyPopup(name, distance) {
        const popup = document.createElement("div");
        popup.innerHTML = `
            <div style="
                position:fixed;
                bottom:20px;
                right:20px;
                background:linear-gradient(90deg, #6ae44d, #a5ff84);
                color:#000;
                padding:15px 25px;
                border-radius:20px;
                box-shadow:0 4px 15px rgba(0,0,0,0.2);
                font-weight:600;
                z-index:99999;
                animation: popIn 0.6s ease;
            ">
                🎯 شخص قريب منك: <b>${name}</b> (حوالي ${(distance/1000).toFixed(2)} كم)
            </div>
        `;
        document.body.appendChild(popup);
        setTimeout(() => popup.remove(), 8000);
    }
});
</script>
<!-- ✅ IRL Nearby Detection + Local Chat System -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (!navigator.geolocation) {
    alert("المتصفح لا يدعم تحديد الموقع الجغرافي.");
    return;
  }

  navigator.geolocation.getCurrentPosition(success, error);

  function success(position) {
    const userLat = position.coords.latitude;
    const userLon = position.coords.longitude;

    // 🔸 محاكاة مستخدمين قريبين
    const usersNearby = [
      { id: 1, name: "Ahmed", lat: userLat + 0.005, lon: userLon + 0.004 },
      { id: 2, name: "Laila", lat: userLat + 0.02, lon: userLon + 0.015 }
    ];

    usersNearby.forEach(user => {
      const distance = getDistance(userLat, userLon, user.lat, user.lon);
      if (distance <= 2000) showNearbyPopup(user, distance);
    });
  }

  function error(err) {
    console.warn("فشل تحديد الموقع:", err.message);
  }

  function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371e3;
    const φ1 = lat1 * Math.PI / 180;
    const φ2 = lat2 * Math.PI / 180;
    const Δφ = (lat2 - lat1) * Math.PI / 180;
    const Δλ = (lon2 - lon1) * Math.PI / 180;
    const a = Math.sin(Δφ / 2) ** 2 +
              Math.cos(φ1) * Math.cos(φ2) *
              Math.sin(Δλ / 2) ** 2;
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
  }

  // 🪧 إشعار وجود شخص قريب + زر المراسلة
  function showNearbyPopup(user, distance) {
    const popup = document.createElement("div");
    popup.innerHTML = `
      <div style="
        position:fixed;
        bottom:20px;
        right:20px;
        background:linear-gradient(90deg, #6ae44d, #a5ff84);
        color:#000;
        padding:15px 25px;
        border-radius:20px;
        box-shadow:0 4px 15px rgba(0,0,0,0.3);
        font-weight:600;
        z-index:99999;
        display:flex;
        align-items:center;
        gap:10px;
      ">
        🎯 <b>${user.name}</b> قريب منك (${(distance/1000).toFixed(2)} كم)
        <button id="chat-${user.id}" style="
          background:#000;
          color:#fff;
          border:none;
          border-radius:10px;
          padding:5px 12px;
          cursor:pointer;
          font-weight:600;">مراسلة</button>
      </div>
    `;
    document.body.appendChild(popup);

    // لما المستخدم يضغط على "مراسلة"
    document.getElementById(`chat-${user.id}`).addEventListener("click", () => {
      popup.remove();
      openChatBox(user);
    });
  }

  // 💬 نافذة الدردشة
  function openChatBox(user) {
    // إنشاء صندوق الدردشة
    const chatBox = document.createElement("div");
    chatBox.id = `chat-box-${user.id}`;
    chatBox.innerHTML = `
      <div style="
        position:fixed;
        bottom:20px;
        right:20px;
        width:300px;
        background:#fff;
        border-radius:15px;
        box-shadow:0 5px 20px rgba(0,0,0,0.25);
        display:flex;
        flex-direction:column;
        z-index:100000;
      ">
        <div style="background:#000;color:#fff;padding:10px;border-radius:15px 15px 0 0;display:flex;justify-content:space-between;align-items:center;">
          <span>💬 ${user.name}</span>
          <button id="closeChat" style="background:none;color:#fff;border:none;font-size:18px;cursor:pointer;">×</button>
        </div>
        <div id="chatMessages" style="flex:1;max-height:200px;overflow-y:auto;padding:10px;font-size:14px;"></div>
        <div style="display:flex;border-top:1px solid #ddd;">
          <input id="chatInput" placeholder="اكتب رسالة..." style="flex:1;border:none;padding:10px;font-size:14px;outline:none;border-radius:0 0 0 15px;">
          <button id="sendBtn" style="background:#6ae44d;border:none;padding:10px 15px;border-radius:0 0 15px 0;cursor:pointer;font-weight:bold;">إرسال</button>
        </div>
      </div>
    `;
    document.body.appendChild(chatBox);

    const chatMessages = chatBox.querySelector("#chatMessages");
    const chatInput = chatBox.querySelector("#chatInput");
    const sendBtn = chatBox.querySelector("#sendBtn");

    // تحميل الرسائل القديمة من localStorage
    const chatKey = `chat_with_${user.id}`;
    const messages = JSON.parse(localStorage.getItem(chatKey) || "[]");
    messages.forEach(msg => addMessage(msg.text, msg.self));

    function addMessage(text, self = true) {
      const msg = document.createElement("div");
      msg.textContent = text;
      msg.style = `
        background:${self ? "#e0ffe0" : "#f0f0f0"};
        color:#000;
        padding:6px 10px;
        border-radius:10px;
        margin:${self ? "5px 0 5px auto" : "5px auto 5px 0"};
        width:fit-content;
        max-width:80%;
      `;
      chatMessages.appendChild(msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    sendBtn.onclick = () => {
      const text = chatInput.value.trim();
      if (!text) return;
      addMessage(text, true);
      messages.push({ text, self: true });
      localStorage.setItem(chatKey, JSON.stringify(messages));

      // محاكاة رد تلقائي من الشخص الآخر بعد 1.5 ثانية
      setTimeout(() => {
        const reply = `رسالة تلقائية من ${user.name} 😉`;
        addMessage(reply, false);
        messages.push({ text: reply, self: false });
        localStorage.setItem(chatKey, JSON.stringify(messages));
      }, 1500);

      chatInput.value = "";
    };

    chatBox.querySelector("#closeChat").onclick = () => chatBox.remove();
  }
});
</script>

</body>
</html>